<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  

  <script>
async function getData() {
  const username = 'clinton.antonio@combocx.com.br';
  const password = 'Aprendendo01%';

  const headers = new Headers();
  headers.set('Authorization', 'Basic ' + btoa(username + ':' + password));
  headers.set('OSvC-CREST-Application-Context', 'Accounts metadata');
  headers.set('Content-Type', 'application/json');

  try {
    const response = await fetch(`https://riogaleao--tst1.custhelp.com/services/rest/connect/v1.4/queryResults/?query=select subject, ReferenceNumber, UpdatedTime from Incidents where StatusWithType.Status.LookupName = 'Atualizada pelo Cliente' and Category.ID = 1226 order by UpdatedTime`, {
      method: 'GET',
      headers: headers
    });

    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }

    const data = await response.json();
    console.log(data);
    return data;
  } catch (error) {
    console.error('Error fetching data:', error.message);
    // Handle error appropriately, e.g., show an error message to the user
    return null;
  }
}

    getData();
  </script>
</body>
</html>